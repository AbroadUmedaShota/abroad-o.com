# UXドキュメント: グループ新規作成モーダル

## 1. 概要

このドキュメントは、「SpeedAd - アンケート管理ダッシュボード」におけるグループ新規作成モーダル（`newGroupModal`）のユーザーエクスペリエンス（UX）について定義します。ユーザーが新しいグループを効率的かつ直感的に作成できるよう、以下のUX原則に基づき設計されています。

## 2. UX原則と実装

### 2.1. 視認性と集中 (Visibility & Focus)

*   **目的**: ユーザーの注意をモーダル内のタスクに集中させ、迷いなく操作を開始できるようにする。
*   **実装**:
    *   サイドバーの「グループ新規作成」ボタンクリックでモーダルがトリガーされる。
    *   モーダル表示時、背景が半透明のスクリムで覆われ、モーダル自体が画面中央にスムーズに表示される。
    *   モーダルの上部には「グループ新規作成」という明確なタイトルが表示され、ユーザーは現在のタスクをすぐに理解できる。

### 2.2. 直感的なフォーム入力 (Intuitive Form Input)

*   **目的**: ユーザーがストレスなく、正確に情報を入力できるようにする。
*   **実装**:
    *   **Raised Label**: 各入力フィールド（グループ名、説明）は「Raised Label」スタイルを採用。入力中にラベルが隠れることがなく、ユーザーは常に入力内容とそれが何の項目であるかを同時に確認できる。
    *   **視覚的フィードバック**: フォーカス時にはラベルと入力欄の枠線の色が変わり、`3px` の `box-shadow` が表示されることで、現在どのフィールドを操作しているかが明確にわかる。
    *   **プレースホルダー**: 必要に応じてプレースホルダーテキストが入力例やヒントとして機能し、入力の手助けとなる。

### 2.3. 効率的なメンバー管理 (Efficient Member Management)

*   **目的**: 複数のメンバーを簡単に追加・管理できるようにし、操作の即時性を確保する。
*   **実装**:
    *   **即時反映**: メールアドレスと役割を入力し「追加」ボタンをクリックすると、入力内容が即座にモーダル内のメンバーリストに反映される。これにより、ユーザーは追加の成功を視覚的に確認でき、スムーズに次のメンバー追加に進める。
    *   **明確なリスト表示**: 追加されたメンバーは、メールアドレスと役割（管理者/一般メンバー）が明確に表示されたリスト形式で一覧できる。
    *   **直感的な削除**: 各メンバーの横に「削除」ボタン（Material Iconsの`delete`アイコンなど）が配置されており、不要なメンバーを直感的にリストから削除できる。削除時には「{email} を削除しました。」というトースト通知でフィードバックがある。
    *   **状態表示**: メンバーが一人もいない場合は「現在メンバーはいません。」というメッセージが表示され、ユーザーに現在の状態を明確に伝える。

### 2.4. 適切なエラーハンドリングとフィードバック (Effective Error Handling & Feedback)

*   **目的**: ユーザーがエラーに遭遇した際に、迅速かつ正確に問題を特定し、解決できるように導く。
*   **実装**:
    *   **リアルタイムバリデーション**: 必須項目の未入力やメールアドレス形式の不正など、入力エラーはリアルタイム（入力時・フォーカスアウト時）に検出される。
    *   **視覚的エラー表示**: エラーが発生したフィールドは、ボーダー色が`var(--color-input-border-error)`に変更され、エラー用の`box-shadow`が表示されることで視覚的に強調される。
    *   **具体的エラーメッセージ**: フィールドの下に「必須項目です。」「メールアドレスの形式が不正です。」といった具体的なエラーメッセージが表示されるため、ユーザーは何を修正すべきかを正確に理解し、迅速に問題を解決できる。
    *   **トースト通知**: フォーム送信時やメンバー追加/削除時など、操作の成功・失敗は画面上部に表示されるトースト通知でユーザーに明確に伝えられる。

### 2.5. スムーズな操作完了 (Seamless Completion)

*   **目的**: ユーザーがタスクを完了した際に、その成功を明確に認識し、次の行動にスムーズに移行できるようにする。
*   **実装**:
    *   **成功時の通知と遷移**: 「作成する」ボタンクリック後、グループ作成が成功すると「グループが新規作成されました！」というトースト通知が表示され、モーダルは自動的に閉じられる。これにより、ユーザーは操作の成功を明確に認識し、次のタスク（更新されたグループ一覧の確認など）にスムーズに移行できる。
    *   **失敗時の継続**: エラーがある場合はモーダルが閉じず、エラー箇所が強調表示されるため、ユーザーはすぐに修正に取り掛かれる。
    *   **中断の容易さ**: Escキーを押すことでいつでもモーダルを閉じることができ、ユーザーは操作を中断したり、やり直したりする自由がある。

## 3. 考慮事項

*   **一貫性**: `design_guideline.md` および `ui_messages.md` に定義されたスタイルと文言に厳密に準拠することで、アプリケーション全体で統一感のあるユーザー体験を提供する。
*   **アクセシビリティ**: キーボードナビゲーション、スクリーンリーダー対応（`aria-label`の適切な使用）、`prefers-reduced-motion`メディアクエリの尊重など、アクセシビリティガイドラインに沿った実装を行う。
*   **パフォーマンス**: モーダルの表示・非表示、メンバーリストの更新など、すべての操作がスムーズに行われ、ユーザーが待たされることのないようパフォーマンスに配慮する。
