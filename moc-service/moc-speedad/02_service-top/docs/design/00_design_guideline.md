# デザインガイドライン: SpeedAd

## 1. はじめに

このドキュメントは、SpeedAdアプリケーションのUIデザインにおける一貫性と品質を保証するためのガイドラインを定めます。
本文書は `service-top-style.css` に定義されたスタイルを基にしており、カラースキーム、タイポグラフィ、コンポーネントのスタイル、スペーシングなど、UIを構成する要素の基準を明確にします。

## 2. カラーパレット

### 2.1. 基本思想

Material Designの思想を参考にしつつ、ブランドカラーを効果的に使用します。ライトモードとダークモードの両方で高い可読性と視認性を確保します。

### 2.2. ライトモード

| 用途 | 色名 | HEX | 説明 |
| :--- | :--- | :--- | :--- |
| **プライマリブランド** | Brand Primary Blue | `#4285F4` | 最も重要なアクションやブランドロゴに使用。 |
| **セカンダリブランド** | Brand Secondary Grey | `#BDBDBD` | リンクやフォーカス時のハイライトに使用。 |
| **ヘッダー背景** | Header Background | `var(--color-brand-base-primary)` | ヘッダーの背景色。単色。 |
| **背景 (メイン)** | Background Main | `#FFFFFF` | 画面全体の基本背景色。 |
| **背景 (サブ)** | Background Sub | `#F8F8F8` | カードやセクションの背景など、少し区別したい場合に使用。 |
| **テキスト (メイン)** | Text Main | `#1A1A1A` | 本文や主要なテキスト。 |
| **テキスト (サブ)** | Text Sub | `#6B6B6B` | 補足情報やヒントテキスト。 |
| **ボーダー/区切り線** | Border Divider | `#E0E0E0` | カードの境界線や区切り線。 |
| **エラー** | State Error | `#D32F2F` | エラーメッセージや破壊的操作のボタン。 |
| **成功** | State Success | `#4CAF50` | 成功通知。 |

### 2.3. ダークモード

| 用途 | 色名 | HEX | 説明 |
| :--- | :--- | :--- | :--- |
| **プライマリブランド** | Brand Primary Purple | `#BB86FC` | ライトモードのPrimaryに対応。 |
| **セカンダリブランド** | Brand Secondary Blue | `#03DAC6` | ライトモードのSecondaryに対応。 |
| **背景 (メイン)** | Background Main | `#1A1A1A` | ダークモードの基本背景色。**（より明るく調整）** |
| **背景 (サブ)** | Background Sub | `#282828` | カードやセクションの背景など、少し区別したい場合に使用。**（より明るく調整）** |
| **テキスト (メイン)** | Text Main | `#E0E0E0` | 主要なテキスト。 |
| **テキスト (サブ)** | Text Sub | `#BBBBBB` | 補足情報。 |
| **ボーダー/区切り線** | Border Divider | `#3A3A3A` | 境界線。 |
| **エラー** | State Error | `#CF6679` | エラー状態。 |

## 3. タイポグラフィ

- **基本フォント**: `"Noto Sans JP"` (日本語), `"Inter"` (欧文), `sans-serif` (フォールバック)
- **基本フォントサイズ**: `16px` (body-large)
- **フォントウェイト**: Normal (400), Medium (500), Bold (700)

| 用途 | フォントサイズ | ウェイト | 説明 |
| :--- | :--- | :--- | :--- |
| **見出し (H1)** | `2rem` (32px) | Bold | ページやモーダルの主要なタイトル。 |
| **見出し (H2)** | `1.375rem` (22px) | Bold | セクションのタイトル。 |
| **本文 (大)** | `1rem` (16px) | Normal | 主要なコンテンツのテキスト。 |
| **本文 (中)** | `0.875rem` (14px) | Normal | テーブル内のテキストや補足情報。 |
| **本文 (小)** | `0.75rem` (12px) | Normal | ラベルやエラーメッセージ。 |

## 4. コンポーネント別スタイル

### 4.1. ボタン

- **プライマリボタン (CTA)**:
    - **背景**: `var(--color-button-primary-bg)`
    - **テキスト色**: `var(--color-button-primary-text)`
    - **ホバー**: `var(--color-button-primary-hover-bg)` (単色ブルー)
    - **形状**: 角丸 (`rounded-full` または `rounded-md`)
- **セカンダリボタン**:
    - **背景**: `var(--color-button-secondary-bg)`
    - **テキスト色**: `var(--color-button-secondary-text)`
    - **ホバー**: `var(--color-button-secondary-hover-bg)`
- **デンジャーボタン**:
    - **背景**: `var(--color-button-danger-bg)`
    - **テキスト色**: `var(--color-button-danger-text)`
    - **ホバー**: `var(--color-button-danger-hover-bg)`
- **無効状態**:
    - **背景**: `var(--color-button-disabled-bg)`
    - **テキスト色**: `var(--color-button-disabled-text)`
    - **カーソル**: `not-allowed`

### 4.2. フォーム入力 (Raised Label)

- **思想**: ラベルが常に入力フィールドの上に配置される（Raised）UIを採用し、入力内容とラベルの重なりを完全に防ぎ、視認性を確保する。
- **通常時**: ラベルは入力エリアの枠線上に、少し小さいフォントサイズで表示される。
- **フォーカス時**: ラベルのテキスト色と入力欄の枠線の色を、`var(--color-input-border-focus)` に変更し、`3px` の `box-shadow` を表示してフォーカス状態を明確にする。
- **ボーダー**: `1px solid var(--color-input-border-default)`
- **エラー時**: ボーダー色を `var(--color-input-border-error)` に変更し、エラー用の `box-shadow` を表示。下部にエラーメッセージを表示。
- **ダークモード**: 背景色を `var(--color-input-bg)`、文字色を `var(--color-input-text)`、ボーダー色を `var(--color-input-border-default)` に設定し、ライトモードとの視覚的な一貫性を保つ。
- **角丸**: 全ての入力フィールド（`input`, `select`, `textarea`）は `0.375rem` の角丸（`rounded-md`）を適用する。特に `input[type="date"]` や `readonly` の `input` フィールドも同様に角丸とする。
- **複数フィールドにまたがるラベル**: 複数の関連する入力フィールド（例: 期間の開始日と終了日）に共通するラベルは、各フィールドのラベルとは別に、グループ全体の上部に配置し、適切なマージン（例: `mt-4`）で間隔を確保する.

### 4.3. カード・パネル

- **背景**: `var(--color-base-card)`
- **ボーダー**: `1px solid var(--color-base-border-divider)`
- **角丸**: `0.5rem` (`rounded-xl` または `rounded-lg`)
- **影**: `none`

### 4.4. モーダル

- **オーバーレイ**: `var(--color-scrim)` を使用し、背景を半透明に覆う。
- **コンテンツ**: 画面中央に配置。カードスタイルを適用。
- **アニメーション**: 表示時は下から上へ、非表示時は上から下へ移動するような、控えめなトランジションを適用する。

### 4.5. テーブル

- **ヘッダー背景**: `var(--color-surface-variant)`
- **行の区切り線**: `1px solid var(--color-outline-variant)`
- **ホバー**: 行の背景色を `var(--color-surface-variant)` に変更し、カーソルを `pointer` にする。
- **レスポンシブ**: モバイル表示では、各行がカード形式のように縦に積まれ、各データにラベルが付与される形式に変化する。

## 5. スペーシングとレイアウト

- **基本グリッド**: 4の倍数 (4px, 8px, 12px, 16px, 24px, 32px...) を基本単位として、マージンやパディングを設定する。
- **一貫性**: コンポーネント間の余白や、コンポーネント内のパディングは、アプリケーション全体で一貫した値を使用する。

## 6. アイコン

- **ライブラリ**: Material Icons を使用する。
- **サイズ**: `16px`, `20px`, `24px` を基本とし、用途に応じて使い分ける。
- **色**: 基本的にはテキストカラーに準ずるが、アクションを示す場合はブランドカラーを使用することもある。

## 7. アクセシビリティ (A11y)

- **モーション**: `prefers-reduced-motion` メディアクエリを尊重し、アニメーションやトランジションを無効化する。
- **コントラスト**: WCAG 2.1のコントラスト比基準（AAレベル以上）を満たすように、テキストと背景の色の組み合わせを維持する。

## 8. UI/UX 改善点 (今後の検討事項)

### 8.1. 全体的なUI/UXの改善

*   **一貫したフィードバックの提供:**
    *   フォームの入力エラー時、トースト通知だけでなく、各入力フィールドの近くにインラインでエラーメッセージを表示する。
    *   API連携が実装された際、データの保存・更新・削除などの操作に対して、ローディングスピナー、成功/失敗の明確なトースト通知、エラーメッセージの表示を徹底する。
*   **ナビゲーションの強化:**
    *   詳細設定ページ（例: 名刺データ化設定、お礼メール設定）にパンくずリストを導入し、ユーザーがアプリケーション内の現在地と戻り方を明確にする。
    *   サイドバーの現在アクティブな項目をより視覚的に強調する。
    *   サイドバーのナビゲーション項目にホバーした際の背景色を `#2064a8` に、テキスト色を白に統一し、視認性を向上させる。
*   **空の状態 (Empty States) の改善:**
    *   データがない状態の表示（例: アンケートが一つも登録されていない場合、質問項目がまだ追加されていない場合）を、次に取るべきアクションを促すようなデザインにする。
*   **マイクロインタラクションの活用:**
    *   ボタンのクリック、入力フィールドのフォーカス、ドラッグ＆ドロップ操作など、ユーザーのアクションに対して、控えめなアニメーションや視覚的なフィードバックを追加する。

### 8.2. 各ページのUI/UX改善点

#### 8.2.1. アンケート一覧ページ (`index.html`)

*   **フィルター・検索エリア:**
    *   検索キーワード入力フィールドの横に、明示的な「検索」ボタンを追加する。
    *   日付入力フィールドに、カレンダーアイコンを追加し、日付ピッカーであることを視覚的に示す。
    *   フィルターエリア全体に「フィルターをリセット」ボタンを追加する。
*   **テーブルのアクションボタン:**
    *   特に重要なアクションのボタン（例: 編集）は、他のボタンと異なる色や形状にすることで、視覚的な優先度をつける。
    *   各アクションボタンに、よりリッチなツールチップ（例: `tippy.js` など）の導入を検討する。
*   **ステータス表示:**
    *   ステータスバッジにカーソルを合わせた際に、詳細な説明をツールチップで表示する。

#### 8.2.2. アンケート作成・編集ページ (`surveyCreation.html`)

*   **フォームのセクション分割:**
    *   フォームのセクション（例: 「基本情報」「メモ」「質問項目設定」）を、アコーディオン形式やタブ形式で切り替えられるようにする。
*   **質問項目設定のドラッグ＆ドロップ:**
    *   ドラッグ中の要素の視覚的なフィードバックを強化する。
    *   ドロップ可能な領域を視覚的に示すインジケーターを追加する。
*   **質問プレビュー:**
    *   質問項目を追加するたびに、プレビューの該当箇所にスムーズにスクロールするなどのUX改善を検討する。

#### 8.2.3. 名刺データ化設定ページ (`bizcardSettings.html`) & お礼メール設定ページ (`thankYouEmailSettings.html`)

*   **フォームスタイルの一貫性:**
    *   フォーム要素のスタイルを、アプリケーション全体で採用されている「レイズドラベル」形式に統一し、一貫性を確保する。
*   **アンケート基本情報表示エリア:**
    *   各情報のラベルと値の視覚的な区別をより明確にする。
    *   数値入力フィールドの横に、単位（例: `枚`, `件`）を明示的に表示する。
*   **ボタンの配置とスタイル:**
    *   「保存」と「キャンセル」ボタンのスタイルがデザインガイドラインに沿っているか再確認し、一貫性を保つ。

#### 8.2.4. アンケート詳細モーダル (`modals/surveyDetailsModal.html`)

*   **情報表示の最適化:**
    *   表示される情報量が多い場合、特に重要な情報を目立たせる、またはセクションごとに折りたたみ可能にするなどの工夫をする。
*   **アクションボタン:**
    *   「アンケートを削除」ボタンは、破壊的な操作であることを視覚的に示し、クリック時には必ず確認ダイアログを表示する。
    *   「分析」ボタンや「データダウンロード」ボタンは、機能が実装された際に、その機能の重要性に応じたスタイルを適用する。
*   **QRコード:**
    *   QRコードの画像が動的に生成されるようになったら、ローディング中の表示や、生成失敗時のエラーメッセージなどを考慮する。